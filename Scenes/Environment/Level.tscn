[gd_scene load_steps=21 format=3 uid="uid://c8d51hgqbd1dq"]

[ext_resource type="PackedScene" uid="uid://dbk24fe7ef7m3" path="res://Scenes/Environment/platform_plane.tscn" id="1_kpm7v"]
[ext_resource type="Script" uid="uid://3ppasc8ug0hb" path="res://Scripts/Levels/LevelManager.cs" id="1_oghjx"]
[ext_resource type="PackedScene" uid="uid://bi0hoewlvnifa" path="res://Scenes/Characters/Player.tscn" id="2_amuju"]
[ext_resource type="PackedScene" uid="uid://dvmyuytfrypk8" path="res://Scenes/Environment/Doodads/torch_1_orange.tscn" id="2_jwnvx"]
[ext_resource type="PackedScene" uid="uid://0ngmpcu0p57w" path="res://Scenes/Environment/HubRoom.tscn" id="2_ubqhk"]
[ext_resource type="Script" uid="uid://bd046eokvcnu2" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="3_00trf"]
[ext_resource type="PackedScene" uid="uid://drnuyxaq83m7a" path="res://Scenes/Environment/Doodads/torch_1_green.tscn" id="3_2e4mj"]
[ext_resource type="PackedScene" uid="uid://dk3vegspif145" path="res://Scenes/Environment/hallway.tscn" id="4_okbu8"]
[ext_resource type="PackedScene" uid="uid://b85smra8ooe2k" path="res://Scenes/Environment/Doodads/torch_1_blue.tscn" id="4_qf3oj"]
[ext_resource type="PackedScene" uid="uid://ohgyrsqlspjj" path="res://Scenes/Environment/Doodads/torch_1_purple.tscn" id="5_68nw1"]
[ext_resource type="PackedScene" uid="uid://dnmdbgy6un26g" path="res://Scenes/Characters/Enemies/Scrounger.tscn" id="6_2e4mj"]
[ext_resource type="PackedScene" uid="uid://d3vj3gq8xvyd4" path="res://Scenes/Spawners/ManaSpawner.tscn" id="6_qf3oj"]
[ext_resource type="PackedScene" uid="uid://dmf47bymxj2a7" path="res://Scenes/Environment/Rooms/north_room.tscn" id="7_wrgjc"]
[ext_resource type="PackedScene" uid="uid://bvlhic3q2d6q3" path="res://Scenes/Environment/Rooms/east_room.tscn" id="8_2e4mj"]
[ext_resource type="PackedScene" uid="uid://b3np3lbhsv241" path="res://Scenes/Environment/Rooms/south_room.tscn" id="9_qf3oj"]
[ext_resource type="PackedScene" uid="uid://dhqr1q132v7k4" path="res://Scenes/Environment/Rooms/west_room.tscn" id="10_68nw1"]
[ext_resource type="PackedScene" uid="uid://3qks0y7n1ats" path="res://Scenes/Spawners/EnemySpawner.tscn" id="12_68nw1"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_ubqhk"]
sky_top_color = Color(0.0692225, 0.07088467, 0.17199999, 1)
sky_horizon_color = Color(0.0427733, 0.24475688, 0.16454482, 1)
ground_bottom_color = Color(0.14626765, 0.121379636, 0.09337447, 1)
ground_horizon_color = Color(0.072435506, 0.27810988, 0.1663776, 1)

[sub_resource type="Sky" id="Sky_jwnvx"]
sky_material = SubResource("ProceduralSkyMaterial_ubqhk")

[sub_resource type="Environment" id="Environment_kwiqg"]
background_mode = 2
sky = SubResource("Sky_jwnvx")
reflected_light_source = 1
tonemap_mode = 2
glow_enabled = true
glow_blend_mode = 0
fog_light_color = Color(0.13375837, 0.18140209, 0.2031388, 1)
volumetric_fog_enabled = true
volumetric_fog_density = 0.04

[node name="LevelRoot" type="Node3D"]
script = ExtResource("1_oghjx")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_kwiqg")

[node name="CentralHub" parent="." instance=ExtResource("2_ubqhk")]
transform = Transform3D(1.0000001, 0, 0, 0, 1, 0, 0, 0, 1.0000001, 0, 0.3277359, 0)
collision_layer = 516

[node name="Torches" type="Node3D" parent="CentralHub"]
transform = Transform3D(-0.27176, 0, 1.014222, 0, 1.05, 0, -1.014222, 0, -0.27176, 0, 0, 0)

[node name="SouthTorch" parent="CentralHub/Torches" instance=ExtResource("2_jwnvx")]
transform = Transform3D(1, 0, 0, 0, -1.6292067e-07, 1, 0, -1, -1.6292067e-07, -5.0675883, 3.3905087, -5.0150514)

[node name="WestTorch" parent="CentralHub/Torches" instance=ExtResource("3_2e4mj")]
transform = Transform3D(1, 0, 0, 0, -1.6292067e-07, 1, 0, -1, -1.6292067e-07, 5.068, 3.391, -5.015)

[node name="NorthTorch" parent="CentralHub/Torches" instance=ExtResource("4_qf3oj")]
transform = Transform3D(1, 0, 0, 0, -1.6292067e-07, 1, 0, -1, -1.6292067e-07, 5.068, 3.391, 5.015)

[node name="EastTorch" parent="CentralHub/Torches" instance=ExtResource("5_68nw1")]
transform = Transform3D(1, 0, 0, 0, -1.6292067e-07, 1, 0, -1, -1.6292067e-07, -5.068, 3.391, 5.015)

[node name="ManaSpawner" parent="CentralHub" instance=ExtResource("6_qf3oj")]
transform = Transform3D(0.9999999, 0, 0, 0, 1, 0, 0, 0, 0.9999999, 5.999999, 1, -3.9999995)

[node name="North" type="Node3D" parent="."]

[node name="North_Hallway" parent="North" instance=ExtResource("4_okbu8")]
transform = Transform3D(1.0000002, 0, 0, 0, 1, 0, 0, 0, 1.0000002, 0, 0.3277359, 0)

[node name="North_Room" parent="North" instance=ExtResource("7_wrgjc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.3277359, -51.000008)

[node name="East" type="Node3D" parent="."]
transform = Transform3D(1.0000001, 0, 0, 0, 1, 0, 0, 0, 1.0000001, 0, 0.3277359, 0)

[node name="East_Hallway" parent="East" instance=ExtResource("4_okbu8")]
transform = Transform3D(-4.3711392e-08, 0, -1.0000001, 0, 1, 0, 1.0000001, 0, -4.3711392e-08, 0, 0, 0)

[node name="East_Room" parent="East" instance=ExtResource("8_2e4mj")]
transform = Transform3D(0.9999999, 0, 0, 0, 1, 0, 0, 0, 0.9999999, 51, 0, 0)

[node name="South" type="Node3D" parent="."]
transform = Transform3D(1.0000001, 0, 0, 0, 1, 0, 0, 0, 1.0000001, 0, 0.3277359, 0)

[node name="South_Hallway" parent="South" instance=ExtResource("4_okbu8")]
transform = Transform3D(-1.0000001, 0, -8.7422784e-08, 0, 1, 0, 8.7422784e-08, 0, -1.0000001, 0, 0, 0)

[node name="South_Room" parent="South" instance=ExtResource("9_qf3oj")]

[node name="West" type="Node3D" parent="."]
transform = Transform3D(1.0000001, 0, 0, 0, 1, 0, 0, 0, 1.0000001, 0, 0.3277359, 0)

[node name="West_Hallway" parent="West" instance=ExtResource("4_okbu8")]
transform = Transform3D(-4.3711392e-08, 0, 1.0000001, 0, 1, 0, -1.0000001, 0, -4.3711392e-08, 0, 0, 0)

[node name="West_Room" parent="West" instance=ExtResource("10_68nw1")]
transform = Transform3D(0.9999999, 0, 0, 0, 1, 0, 0, 0, 0.9999999, -51, 0, 0)

[node name="EnemySpawner" parent="West/West_Room" instance=ExtResource("12_68nw1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 19, 0, 32)

[node name="EnemySpawner2" parent="West/West_Room" instance=ExtResource("12_68nw1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 19, 0, -35)

[node name="PlatformStatic" parent="." instance=ExtResource("1_kpm7v")]

[node name="Player" parent="." instance=ExtResource("2_amuju")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9999995, 0)
WALK_SPEED = 13.0
MAX_SPRINT_SPEED = 24.0

[node name="Camera3D" type="Camera3D" parent="."]
physics_interpolation_mode = 1
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.6592422, 4.168207)
fov = 80.0

[node name="PhantomCameraHost" type="Node" parent="Camera3D"]
process_priority = 300
process_physics_priority = 300
script = ExtResource("3_00trf")
metadata/_custom_type_script = "uid://bd046eokvcnu2"

[node name="Scrounger" parent="." node_paths=PackedStringArray("_sprite", "_healthBar") instance=ExtResource("6_2e4mj")]
transform = Transform3D(-1, 0, 8.742278e-08, 0, 1, 0, -8.742278e-08, 0, -1, 0, 0.3277359, -4)
_sprite = NodePath("AnimatedSprite3D/Sprite3D")
_healthBar = NodePath("HealthBar/SubViewport/ProgressBar")
ManaToDrop = 10

[node name="Scrounger2" parent="." node_paths=PackedStringArray("_sprite", "_healthBar") instance=ExtResource("6_2e4mj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.3277359, -54)
_sprite = NodePath("AnimatedSprite3D/Sprite3D")
_healthBar = NodePath("HealthBar/SubViewport/ProgressBar")
ManaToDrop = 10
